{
  "timestamp": "2025-06-04 23:11:09",
  "execution_time": 6.58,
  "health_score": 38,
  "overall_status": "critical",
  "summary": {
    "total_checks": 58,
    "passed": 40,
    "warnings": 12,
    "failed": 6
  },
  "critical_errors": [
    "–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç PHP —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è",
    "–ù–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞"
  ],
  "diagnostics": {
    "system": {
      "title": "üñ•Ô∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ",
      "status": "‚úÖ OK",
      "data": {
        "Hostname": "7375893.ru",
        "OS": "Linux 5.15.0-141-generic",
        "Architecture": "x86_64",
        "PHP Version": "8.1.2-1ubuntu2.21",
        "PHP SAPI": "fpm-fcgi",
        "Server Software": "nginx/1.18.0",
        "Server Time": "2025-06-04 23:11:02",
        "Timezone": "Europe/Moscow",
        "Uptime": "0 –¥–Ω–µ–π, 13 —á–∞—Å–æ–≤, 15 –º–∏–Ω—É—Ç"
      }
    },
    "php_config": {
      "title": "‚öôÔ∏è PHP –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è",
      "status": "‚úÖ OK",
      "checks": {
        "memory_limit": {
          "current": "8192M",
          "required": "8192M",
          "status": "‚úÖ"
        },
        "max_execution_time": {
          "current": "Unlimited",
          "required": 300,
          "status": "‚úÖ"
        },
        "post_max_size": {
          "current": "2048M",
          "required": "2048M",
          "status": "‚úÖ"
        },
        "upload_max_filesize": {
          "current": "2048M",
          "required": "2048M",
          "status": "‚úÖ"
        },
        "max_input_vars": {
          "current": "100000",
          "required": 100000,
          "status": "‚úÖ"
        },
        "max_file_uploads": {
          "current": "1000",
          "required": 1000,
          "status": "‚úÖ"
        }
      },
      "additional": {
        "display_errors": "0",
        "error_reporting": 22527,
        "log_errors": "1",
        "error_log": "/var/log/php/www-error.log",
        "date.timezone": "",
        "default_charset": "UTF-8",
        "opcache.enable": "1",
        "opcache.memory_consumption": "1024",
        "session.gc_maxlifetime": "3600",
        "session.save_handler": "user"
      }
    },
    "php_extensions": {
      "title": "üß© PHP –†–∞—Å—à–∏—Ä–µ–Ω–∏—è",
      "status": "‚ùå Error",
      "required": {
        "installed": {
          "pdo": "–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö",
          "pdo_mysql": "MySQL –¥—Ä–∞–π–≤–µ—Ä",
          "json": "JSON –æ–±—Ä–∞–±–æ—Ç–∫–∞",
          "curl": "HTTP –∑–∞–ø—Ä–æ—Å—ã",
          "mbstring": "–ú—É–ª—å—Ç–∏–±–∞–π—Ç–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏",
          "openssl": "–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ",
          "session": "–°–µ—Å—Å–∏–∏",
          "zip": "–ê—Ä—Ö–∏–≤—ã",
          "gd": "–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π",
          "fileinfo": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤"
        },
        "missing": {
          "bcmath": "–¢–æ—á–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è",
          "intl": "–ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è"
        }
      },
      "optional": {
        "redis": "Redis –ø–æ–¥–¥–µ—Ä–∂–∫–∞",
        "imagick": "–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π",
        "igbinary": "–ë–∏–Ω–∞—Ä–Ω–∞—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è"
      },
      "total_loaded": 60,
      "error": "–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è: bcmath, intl"
    },
    "filesystem": {
      "title": "üìÅ –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞",
      "status": "‚úÖ OK",
      "paths": {
        "root": {
          "path": "/var/www/www-root/data/site/vdestor.ru",
          "exists": "‚úÖ",
          "readable": "‚úÖ",
          "writable": "‚úÖ"
        },
        "public": {
          "path": "/var/www/www-root/data/site/vdestor.ru/public",
          "exists": "‚úÖ",
          "readable": "‚úÖ",
          "writable": "‚úÖ"
        },
        "config": {
          "path": "/etc/vdestor/config",
          "exists": "‚úÖ",
          "readable": "‚úÖ",
          "writable": "‚ùå"
        },
        "logs": {
          "path": "/var/log/vdestor",
          "exists": "‚úÖ",
          "readable": "‚úÖ",
          "writable": "‚úÖ"
        },
        "cache": {
          "path": "/tmp/vdestor_cache",
          "exists": "‚úÖ",
          "readable": "‚úÖ",
          "writable": "‚úÖ"
        },
        "sessions": {
          "path": "/var/www/www-root/data/mod-tmp",
          "exists": "‚úÖ",
          "readable": "‚úÖ",
          "writable": "‚úÖ"
        },
        "uploads": {
          "path": "/var/www/www-root/data/site/vdestor.ru/public/uploads",
          "exists": "‚úÖ",
          "readable": "‚úÖ",
          "writable": "‚úÖ"
        },
        "assets": {
          "path": "/var/www/www-root/data/site/vdestor.ru/public/assets",
          "exists": "‚úÖ",
          "readable": "‚úÖ",
          "writable": "‚úÖ"
        }
      }
    },
    "permissions": {
      "title": "üîê –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞",
      "status": "‚ö†Ô∏è Warning",
      "files": {
        "/etc/vdestor/config/.env": {
          "exists": "‚úÖ",
          "perms": "0640",
          "expected": "0600",
          "secure": "‚ùå",
          "owner": "www-data",
          "group": "www-data"
        },
        "/etc/vdestor/config/database.ini": {
          "exists": "‚úÖ",
          "perms": "0640",
          "expected": "0600",
          "secure": "‚ùå",
          "owner": "www-data",
          "group": "www-data"
        },
        "/etc/vdestor/config/app.ini": {
          "exists": "‚úÖ",
          "perms": "0640",
          "expected": "0600",
          "secure": "‚ùå",
          "owner": "www-data",
          "group": "www-data"
        }
      },
      "warning": "–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º —Ñ–∞–π–ª–∞–º"
    },
    "disk_space": {
      "title": "üíæ –î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ",
      "status": "‚úÖ OK",
      "partitions": {
        "–ö–æ—Ä–Ω–µ–≤–æ–π —Ä–∞–∑–¥–µ–ª": {
          "path": "/",
          "total": "442.82 GB",
          "used": "346.97 GB",
          "free": "95.85 GB",
          "percent_used": 78.35,
          "status": "‚úÖ"
        },
        "–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è": {
          "path": "/var/www/www-root/data/site/vdestor.ru",
          "total": "442.82 GB",
          "used": "346.97 GB",
          "free": "95.85 GB",
          "percent_used": 78.35,
          "status": "‚úÖ"
        },
        "–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã": {
          "path": "/tmp",
          "total": "442.82 GB",
          "used": "346.97 GB",
          "free": "95.85 GB",
          "percent_used": 78.35,
          "status": "‚úÖ"
        },
        "–õ–æ–≥–∏": {
          "path": "/var/log/vdestor",
          "total": "442.82 GB",
          "used": "346.97 GB",
          "free": "95.85 GB",
          "percent_used": 78.35,
          "status": "‚úÖ"
        }
      }
    },
    "system_load": {
      "title": "üìä –ù–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã",
      "load_average": {
        "1_min": 0,
        "5_min": 0.02,
        "15_min": 0
      },
      "cpu_cores": 10,
      "normalized_load": {
        "1_min": 0,
        "5_min": 0,
        "15_min": 0
      },
      "status": "‚úÖ OK",
      "process_info": {
        "total_processes": 333,
        "php_fpm_processes": 117,
        "nginx_processes": 117
      }
    },
    "network": {
      "title": "üåê –°–µ—Ç–µ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ",
      "status": "‚úÖ OK",
      "hosts": {
        "Google": {
          "host": "google.com",
          "status": "‚úÖ",
          "latency": "14.84 ms"
        },
        "–Ø–Ω–¥–µ–∫—Å": {
          "host": "yandex.ru",
          "status": "‚úÖ",
          "latency": "5.04 ms"
        },
        "CDN": {
          "host": "cdnjs.cloudflare.com",
          "status": "‚úÖ",
          "latency": "42.84 ms"
        },
        "Google Fonts": {
          "host": "fonts.googleapis.com",
          "status": "‚úÖ",
          "latency": "56 ms"
        }
      }
    },
    "dns": {
      "title": "üåç DNS –ø—Ä–æ–≤–µ—Ä–∫–∞",
      "domain": "vdestor.ru",
      "resolution_time": "661.59 ms",
      "records": [
        {
          "type": "A",
          "value": "79.133.183.86",
          "ttl": 600
        },
        {
          "type": "MX",
          "value": "mx2.timeweb.ru",
          "ttl": 600
        },
        {
          "type": "MX",
          "value": "mx1.timeweb.ru",
          "ttl": 600
        }
      ],
      "status": "‚ö†Ô∏è Warning",
      "warning": "–ú–µ–¥–ª–µ–Ω–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ DNS"
    },
    "https": {
      "title": "üîí HTTPS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç",
      "url": "https://vdestor.ru",
      "certificate": {
        "issuer": "Let's Encrypt",
        "subject": "vdestor.ru",
        "valid_from": "2025-04-03",
        "valid_to": "2025-07-02",
        "days_left": 27
      },
      "status": "‚ö†Ô∏è Warning",
      "warning": "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∏—Å—Ç–µ–∫–∞–µ—Ç –º–µ–Ω–µ–µ —á–µ–º —á–µ—Ä–µ–∑ 30 –¥–Ω–µ–π"
    },
    "database": {
      "title": "üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö MySQL",
      "status": "‚úÖ OK",
      "info": {
        "version": "8.0.42-0ubuntu0.22.04.1",
        "active_connections": "4",
        "max_connections": "500",
        "connection_usage": "0.8%"
      }
    },
    "database_tables": {
      "title": "üìã –¢–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö",
      "total_tables": 43,
      "total_rows": 5040556,
      "total_size": "1.37 GB",
      "top_tables": [
        {
          "name": "products",
          "rows": 599465,
          "size": "591.53 MB",
          "engine": "InnoDB"
        },
        {
          "name": "application_logs",
          "rows": 888804,
          "size": "303.92 MB",
          "engine": "InnoDB"
        },
        {
          "name": "product_attributes",
          "rows": 1077775,
          "size": "207.2 MB",
          "engine": "InnoDB"
        },
        {
          "name": "product_documents",
          "rows": 723444,
          "size": "119.14 MB",
          "engine": "InnoDB"
        },
        {
          "name": "product_images",
          "rows": 751108,
          "size": "90.61 MB",
          "engine": "InnoDB"
        },
        {
          "name": "supplier_mappings",
          "rows": 363156,
          "size": "61.69 MB",
          "engine": "InnoDB"
        },
        {
          "name": "product_categories",
          "rows": 586710,
          "size": "26.06 MB",
          "engine": "InnoDB"
        },
        {
          "name": "related_products",
          "rows": 42139,
          "size": "4.53 MB",
          "engine": "InnoDB"
        },
        {
          "name": "series",
          "rows": 4955,
          "size": "576 KB",
          "engine": "InnoDB"
        },
        {
          "name": "rate_limits",
          "rows": 1262,
          "size": "208 KB",
          "engine": "InnoDB"
        },
        {
          "name": "audit_logs",
          "rows": 445,
          "size": "160 KB",
          "engine": "InnoDB"
        },
        {
          "name": "users",
          "rows": 1,
          "size": "144 KB",
          "engine": "InnoDB"
        },
        {
          "name": "brands",
          "rows": 1038,
          "size": "128 KB",
          "engine": "InnoDB"
        },
        {
          "name": "categories",
          "rows": 251,
          "size": "112 KB",
          "engine": "InnoDB"
        },
        {
          "name": "carts",
          "rows": 1,
          "size": "96 KB",
          "engine": "InnoDB"
        },
        {
          "name": "stock_balances",
          "rows": 0,
          "size": "96 KB",
          "engine": "InnoDB"
        },
        {
          "name": "search_logs",
          "rows": 0,
          "size": "80 KB",
          "engine": "InnoDB"
        },
        {
          "name": "cart_items",
          "rows": 0,
          "size": "80 KB",
          "engine": "InnoDB"
        },
        {
          "name": "client_prices",
          "rows": 0,
          "size": "80 KB",
          "engine": "InnoDB"
        },
        {
          "name": "delivery_schedules",
          "rows": 2,
          "size": "80 KB",
          "engine": "InnoDB"
        }
      ],
      "status": "‚úÖ OK"
    },
    "database_indexes": {
      "title": "üîç –ò–Ω–¥–µ–∫—Å—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö",
      "missing_indexes": [],
      "status": "‚úÖ OK",
      "info": "–í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω–¥–µ–∫—Å—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç"
    },
    "database_performance": {
      "title": "‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ë–î",
      "query_times": {
        "simple_select": "0.11 ms",
        "count_products": "63.77 ms",
        "join_query": "92.73 ms",
        "search_query": "120.21 ms"
      },
      "status": "‚ö†Ô∏è Warning",
      "warning": "–ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã: search_query"
    },
    "database_integrity": {
      "title": "üîß –¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö",
      "issues": [
        "–¢–æ–≤–∞—Ä—ã –±–µ–∑ —Ü–µ–Ω: 591612",
        "–¢–æ–≤–∞—Ä—ã –±–µ–∑ –æ—Å—Ç–∞—Ç–∫–æ–≤: 591611"
      ],
      "status": "‚ö†Ô∏è Warning",
      "warning": "–û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å—é –¥–∞–Ω–Ω—ã—Ö"
    },
    "database_size": {
      "title": "üíø –†–∞–∑–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö",
      "total_size": "1.37 GB",
      "data_size": "1.06 GB",
      "index_size": "324.95 MB",
      "table_count": 43,
      "status": "‚úÖ OK"
    },
    "opensearch": {
      "title": "üîé OpenSearch",
      "cluster_name": "my-cluster",
      "status": "‚ö†Ô∏è Warning",
      "nodes": 1,
      "data_nodes": 1,
      "active_shards": 10,
      "relocating_shards": 0,
      "unassigned_shards": 5,
      "warning": "–ö–ª–∞—Å—Ç–µ—Ä OpenSearch —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è"
    },
    "opensearch_indexes": {
      "title": "üìë –ò–Ω–¥–µ–∫—Å—ã OpenSearch",
      "total_indices": 3,
      "total_documents": 3919518,
      "total_size": "2.3 GB",
      "indices": [
        {
          "name": "products_temp_2025_06_02_21_09_57",
          "docs": 0,
          "size": "416 B",
          "health": "unknown"
        },
        {
          "name": "products_2025_06_04_11_24_37",
          "docs": 2229431,
          "size": "1.36 GB",
          "health": "unknown"
        },
        {
          "name": "products_v6_20250602_111648",
          "docs": 1690087,
          "size": "965.8 MB",
          "health": "unknown"
        }
      ],
      "alias_exists": true,
      "status": "‚úÖ OK"
    },
    "opensearch_performance": {
      "title": "‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å OpenSearch",
      "query_results": {
        "match_all": {
          "time": "6.25 ms",
          "hits": 10000
        },
        "term_search": {
          "time": "2.06 ms",
          "hits": 0
        },
        "fuzzy_search": {
          "time": "11.8 ms",
          "hits": 10000
        }
      },
      "status": "‚úÖ OK"
    },
    "cache": {
      "title": "üíæ –°–∏—Å—Ç–µ–º–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è",
      "enabled": true,
      "cache_dir": "/tmp/vdestor_cache/",
      "total_files": 5,
      "valid_files": 5,
      "total_size": "70.24 KB",
      "tests": {
        "write": "‚úÖ",
        "read": "‚úÖ",
        "delete": "‚úÖ"
      },
      "status": "‚úÖ OK"
    },
    "cache_performance": {
      "title": "‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–µ—à–∞",
      "iterations": 1000,
      "write_time": "127.26 ms",
      "read_time": "0.51 ms",
      "avg_write": "0.127 ms",
      "avg_read": "0.001 ms",
      "status": "‚úÖ OK"
    },
    "cache_size": {
      "title": "üìä –†–∞–∑–º–µ—Ä –∫–µ—à–∞",
      "cache_dir": "/tmp/vdestor_cache/",
      "total_files": 5,
      "total_size": "70.24 KB",
      "oldest_file_age": "4 –º–∏–Ω—É—Ç",
      "status": "‚úÖ OK"
    },
    "sessions": {
      "title": "üîê –°–∏—Å—Ç–µ–º–∞ —Å–µ—Å—Å–∏–π",
      "handler": "user",
      "save_path": "/var/www/www-root/data/mod-tmp",
      "lifetime": "3600 —Å–µ–∫—É–Ω–¥",
      "session_id": "b0da12fc1b5a63cf4de3d8b72b4003fe",
      "session_name": "VDE_SESSION",
      "status": "‚úÖ OK",
      "session_working": true
    },
    "session_security": {
      "title": "üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–µ—Å—Å–∏–π",
      "settings": {
        "session.cookie_secure": "1",
        "session.cookie_httponly": "1",
        "session.cookie_samesite": "Lax",
        "session.use_strict_mode": "0",
        "session.use_only_cookies": "1"
      },
      "issues": [],
      "status": "‚úÖ OK"
    },
    "active_sessions": {
      "title": "üë• –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏",
      "active_sessions": 20,
      "unique_users": 0,
      "guest_sessions": 20,
      "expired_sessions": 0,
      "status": "‚úÖ OK"
    },
    "queues": {
      "title": "üìã –û—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á",
      "queue_length": 0,
      "by_status": [],
      "by_type": [],
      "status": "‚úÖ OK"
    },
    "queue_workers": {
      "title": "‚öôÔ∏è –í–æ—Ä–∫–µ—Ä—ã –æ—á–µ—Ä–µ–¥–µ–π",
      "workers": [],
      "status": "‚úÖ OK"
    },
    "failed_jobs": {
      "title": "‚ùå –ù–µ—É–¥–∞—á–Ω—ã–µ –∑–∞–¥–∞—á–∏",
      "total_failed": 0,
      "by_type": [],
      "recent_failures": [],
      "status": "‚úÖ OK"
    },
    "email_config": {
      "title": "üìß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Email",
      "config": {
        "from_email": "not_set",
        "from_name": "not_set",
        "driver": "mail",
        "host": "not_set",
        "port": "not_set",
        "encryption": "none"
      },
      "issues": [
        "Email –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω"
      ],
      "status": "‚ùå Error",
      "error": "–ü—Ä–æ–±–ª–µ–º—ã —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π email"
    },
    "email_delivery": {
      "title": "üìÆ –î–æ—Å—Ç–∞–≤–∫–∞ Email",
      "last_7_days": {
        "sent": 0,
        "opened": 0,
        "clicked": 0,
        "open_rate": "0%"
      },
      "last_sent": null,
      "status": "‚ö†Ô∏è Warning",
      "warning": "–ù–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø–∏—Å–µ–º –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π"
    },
    "security_headers": {
      "title": "üõ°Ô∏è –ó–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏",
      "present_headers": [],
      "issues": [
        "–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫: X-Content-Type-Options",
        "–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫: X-Frame-Options",
        "–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫: X-XSS-Protection",
        "–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫: Referrer-Policy",
        "–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫: Strict-Transport-Security"
      ],
      "status": "‚ö†Ô∏è Warning",
      "warning": "–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ"
    },
    "file_security": {
      "title": "üîí –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º",
      "checked_files": 5,
      "issues": [
        "/var/www/www-root/data/site/vdestor.ru/composer.json –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è —á—Ç–µ–Ω–∏—è –≤—Å–µ–º",
        "/var/www/www-root/data/site/vdestor.ru/composer.lock –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è —á—Ç–µ–Ω–∏—è –≤—Å–µ–º"
      ],
      "status": "‚ùå Error",
      "error": "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞"
    },
    "config_security": {
      "title": "‚öôÔ∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏",
      "issues": [
        "expose_php –≤–∫–ª—é—á–µ–Ω"
      ],
      "environment": "production",
      "status": "‚ùå Error",
      "error": "–ù–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è production"
    },
    "login_attempts": {
      "title": "üö´ –ü–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞",
      "blocked_accounts": 0,
      "last_hour": {
        "total_attempts": 0,
        "unique_users": 0,
        "unique_ips": 0
      },
      "status": "‚úÖ OK"
    },
    "suspicious_activity": {
      "title": "üîç –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å",
      "last_24h": [],
      "total_suspicious": 0,
      "status": "‚úÖ OK"
    },
    "api_performance": {
      "title": "‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å API",
      "endpoints": {
        "/api/test": {
          "method": "GET",
          "status": 200,
          "time": "814.4 ms"
        },
        "/api/search?q=test": {
          "method": "GET",
          "status": 200,
          "time": "52.44 ms"
        },
        "/api/availability?product_ids=1&city_id=1": {
          "method": "GET",
          "status": 200,
          "time": "17.62 ms"
        }
      },
      "status": "‚úÖ OK"
    },
    "page_load_time": {
      "title": "üìÑ –°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü",
      "pages": {
        "–ì–ª–∞–≤–Ω–∞—è": {
          "path": "/",
          "status": 200,
          "time": "84.6 ms",
          "size": "55.41 KB"
        },
        "–ú–∞–≥–∞–∑–∏–Ω": {
          "path": "/shop",
          "status": 200,
          "time": "16.06 ms",
          "size": "23.5 KB"
        },
        "–ö–æ—Ä–∑–∏–Ω–∞": {
          "path": "/cart",
          "status": 200,
          "time": "17.57 ms",
          "size": "14.33 KB"
        },
        "–í—Ö–æ–¥": {
          "path": "/login",
          "status": 200,
          "time": "15.94 ms",
          "size": "13.92 KB"
        }
      },
      "status": "‚úÖ OK"
    },
    "slow_queries": {
      "title": "üêå –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã",
      "status": "‚ö†Ô∏è Skipped",
      "info": "–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ slow_log"
    },
    "memory_usage": {
      "title": "üíæ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏",
      "current": "2 MB",
      "peak": "2 MB",
      "limit": "8 GB",
      "usage_percent": "0.02%",
      "peak_percent": "0.02%",
      "status": "‚úÖ OK"
    },
    "error_logs": {
      "title": "üìã –õ–æ–≥–∏ –æ—à–∏–±–æ–∫",
      "logs": {
        "PHP": {
          "file": "/var/log/php/error.log",
          "status": "–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω"
        },
        "Nginx": {
          "file": "/var/log/nginx/error.log",
          "size": "1.46 KB",
          "last_modified": "2025-06-04 23:06:41",
          "recent_errors": 0
        },
        "Application": {
          "file": "/var/log/vdestor/app.log",
          "size": "295.95 KB",
          "last_modified": "2025-06-04 23:11:05",
          "recent_errors": 0
        }
      },
      "total_recent_errors": 0,
      "status": "‚úÖ OK"
    },
    "application_logs": {
      "title": "üìù –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è",
      "last_24h_stats": {
        "warning": {
          "count": 11,
          "last": "2025-06-04 22:53:26"
        },
        "info": {
          "count": 414,
          "last": "2025-06-04 23:11:05"
        },
        "debug": {
          "count": 219,
          "last": "2025-06-04 23:11:05"
        }
      },
      "critical_errors_count": 0,
      "recent_critical": [
        {
          "message": "–û—à–∏–±–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —à–∞–±–ª–æ–Ω–∞",
          "context": "{\"view\": \"admin/diagnost\", \"error\": \"RecursiveDirectoryIterator::__construct(/var/lib/php/sessions): Failed to open directory: Permission denied\"}",
          "created_at": "2025-06-03 15:44:13"
        },
        {
          "message": "–û—à–∏–±–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —à–∞–±–ª–æ–Ω–∞",
          "context": "{\"view\": \"admin/diagnost\", \"error\": \"RecursiveDirectoryIterator::__construct(/var/lib/php/sessions): Failed to open directory: Permission denied\"}",
          "created_at": "2025-06-03 15:44:01"
        },
        {
          "message": "–û—à–∏–±–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —à–∞–±–ª–æ–Ω–∞",
          "context": "{\"view\": \"admin/diagnost\", \"error\": \"RecursiveDirectoryIterator::__construct(/var/lib/php/sessions): Failed to open directory: Permission denied\"}",
          "created_at": "2025-06-03 15:33:33"
        },
        {
          "message": "–û—à–∏–±–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —à–∞–±–ª–æ–Ω–∞",
          "context": "{\"view\": \"admin/diagnost\", \"error\": \"RecursiveDirectoryIterator::__construct(/var/lib/php/sessions): Failed to open directory: Permission denied\"}",
          "created_at": "2025-06-03 15:28:20"
        },
        {
          "message": "–û—à–∏–±–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —à–∞–±–ª–æ–Ω–∞",
          "context": "{\"view\": \"admin/diagnost\", \"error\": \"RecursiveDirectoryIterator::__construct(/var/lib/php/sessions): Failed to open directory: Permission denied\"}",
          "created_at": "2025-06-03 15:24:12"
        }
      ],
      "status": "‚úÖ OK"
    },
    "access_logs": {
      "title": "üåê –õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–∞",
      "log_file": "/var/log/nginx/access.log",
      "stats": {
        "total_requests": 8,
        "status_codes": {
          "301": 7
        },
        "top_ips": {
          "34.169.250.2": 2,
          "4.169.250.2": 1,
          "178.20.42.24": 1,
          "185.12.124.78": 1,
          "194.190.152.190": 1
        },
        "top_urls": {
          "/": 4,
          "/robots.txt": 2,
          "/assets/js/dropzone/dropzone-amd-module.min.js": 1
        },
        "errors_4xx": 0,
        "errors_5xx": 0
      },
      "status": "‚úÖ OK"
    },
    "security_logs": {
      "title": "üîê –õ–æ–≥–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏",
      "last_24h_events": {
        "successful_login": 6
      },
      "total_events": 6,
      "status": "‚úÖ OK"
    },
    "data_integrity": {
      "title": "üîç –¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö",
      "issues": [
        "–¢–æ–≤–∞—Ä—ã –±–µ–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: 99729",
        "–¢–æ–≤–∞—Ä—ã –±–µ–∑ –æ–ø–∏—Å–∞–Ω–∏—è: 283094"
      ],
      "total_issues": 2,
      "status": "‚ö†Ô∏è Warning",
      "warning": "–ï—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å—é –¥–∞–Ω–Ω—ã—Ö"
    },
    "orphaned_records": {
      "title": "üóëÔ∏è –ü–æ—Ç–µ—Ä—è–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏",
      "orphaned_records": [],
      "total_orphaned": 0,
      "status": "‚úÖ OK"
    },
    "duplicate_data": {
      "title": "üë• –î—É–±–ª–∏–∫–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö",
      "duplicates": [],
      "has_duplicates": false,
      "status": "‚úÖ OK"
    },
    "missing_relations": {
      "title": "üîó –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Å–≤—è–∑–∏",
      "missing_relations": [],
      "total_missing": 0,
      "status": "‚úÖ OK"
    },
    "metrics": {
      "title": "üìä –ú–µ—Ç—Ä–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã",
      "summary": [],
      "performance": {
        "avg_page_load_time": 0,
        "avg_api_response_time": 0,
        "avg_db_query_time": 0,
        "cache_hit_rate": 0
      },
      "errors": {
        "count": 0,
        "types": []
      },
      "status": "‚úÖ OK"
    },
    "business_metrics": {
      "title": "üíº –ë–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏",
      "last_7_days": {
        "unique_users": 1,
        "sessions": 43,
        "actions": 110,
        "cart_conversion": "0%"
      },
      "product_engagement": {
        "tracked_products": 0,
        "avg_cart_adds": 0
      },
      "status": "‚úÖ OK"
    },
    "system_metrics": {
      "title": "üíª –°–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏",
      "database": {
        "status": "healthy",
        "query_count": 4,
        "avg_query_time": 0.0002009272575378418
      },
      "cache": {
        "status": "healthy",
        "hit_rate": 0
      },
      "memory": {
        "current": "2 MB",
        "peak": "2 MB",
        "limit": "8192M"
      },
      "load_average": [
        0.083984375,
        0.041015625,
        0.00537109375
      ],
      "disk_usage": {
        "free": "95.85 GB",
        "total": "442.82 GB",
        "percent_used": "78.35%"
      },
      "status": "‚ö†Ô∏è Warning",
      "warning": "–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è"
    },
    "external_apis": {
      "title": "üåê –í–Ω–µ—à–Ω–∏–µ API",
      "apis": {
        "–Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã": {
          "url": "https://api-maps.yandex.ru/2.1/?lang=ru_RU",
          "status_code": 200,
          "response_time": "39.43 ms",
          "available": true
        },
        "DaData": {
          "url": "https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address",
          "status_code": 401,
          "response_time": "53.63 ms",
          "available": true
        },
        "1C Integration": {
          "url": "https://api.vdestor.ru/1c/health",
          "status_code": 404,
          "response_time": "7.1 ms",
          "available": true
        }
      },
      "total_failures": 0,
      "status": "‚úÖ OK"
    },
    "cdn_services": {
      "title": "‚òÅÔ∏è CDN —Å–µ—Ä–≤–∏—Å—ã",
      "resources": {
        "jQuery": {
          "url": "https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js",
          "status": "‚úÖ",
          "response_time": "140.25 ms"
        },
        "Font Awesome": {
          "url": "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css",
          "status": "‚úÖ",
          "response_time": "196.15 ms"
        },
        "Google Fonts": {
          "url": "https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap",
          "status": "‚úÖ",
          "response_time": "48.82 ms"
        }
      },
      "slow_resources": [],
      "status": "‚úÖ OK"
    },
    "configuration": {
      "title": "‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã",
      "files": {
        ".env": {
          "path": "/etc/vdestor/config/.env",
          "exists": "‚úÖ",
          "readable": "‚úÖ",
          "last_modified": "2025-06-04 17:12:21"
        },
        "app.ini": {
          "path": "/etc/vdestor/config/app.ini",
          "exists": "‚úÖ",
          "readable": "‚úÖ",
          "last_modified": "2025-06-03 16:22:10"
        },
        "database.ini": {
          "path": "/etc/vdestor/config/database.ini",
          "exists": "‚úÖ",
          "readable": "‚úÖ",
          "last_modified": "2025-06-01 20:26:08"
        },
        "nginx.conf": {
          "path": "/etc/nginx/sites-enabled/vdestor.ru",
          "exists": "‚ùå"
        }
      },
      "missing_files": [
        "nginx.conf"
      ],
      "status": "‚ùå Error",
      "error": "–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã"
    },
    "environment_variables": {
      "title": "üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è",
      "required_missing": [
        "APP_NAME",
        "MAIL_FROM_ADDRESS",
        "MAIL_FROM_NAME"
      ],
      "required_present": 6,
      "optional_present": 1,
      "app_env": "production",
      "status": "‚ùå Error",
      "error": "–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è"
    },
    "cron_jobs": {
      "title": "‚è∞ Cron –∑–∞–¥–∞—á–∏",
      "expected_jobs": {
        "queue:work": "* * * * *",
        "cleanup:logs": "0 2 * * *",
        "cleanup:sessions": "0 3 * * *",
        "metrics:calculate": "*/5 * * * *",
        "opensearch:sync": "0 4 * * *"
      },
      "info": "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ crontab -l –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è",
      "last_runs": [],
      "status": "‚úÖ OK"
    },
    "assets": {
      "title": "üé® –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∞—Å—Å–µ—Ç—ã",
      "results": {
        "assets_dir_exists": true,
        "dist_dir_exists": true,
        "compiled_files": {
          "js": 1,
          "css": 1
        },
        "latest_js": {
          "file": "main-DKYGEwAr.js",
          "size": "32.43 KB",
          "modified": "2025-06-04 12:02:46"
        },
        "latest_css": {
          "file": "main-DgbIZKmS.css",
          "size": "45.13 KB",
          "modified": "2025-06-04 12:02:46"
        }
      },
      "status": "‚úÖ OK"
    },
    "javascript": {
      "title": "üìú JavaScript —Ñ–∞–π–ª—ã",
      "files": {
        "main.js": {
          "exists": "‚úÖ",
          "size": "12.08 KB",
          "lines": 354
        },
        "cart.js": {
          "exists": "‚ùå"
        },
        "search.js": {
          "exists": "‚ùå"
        }
      },
      "missing_files": [
        "cart.js",
        "search.js"
      ],
      "status": "‚ö†Ô∏è Warning",
      "warning": "–ù–µ–∫–æ—Ç–æ—Ä—ã–µ JS —Ñ–∞–π–ª—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç"
    },
    "css": {
      "title": "üé® CSS —Ñ–∞–π–ª—ã",
      "files": {
        "styles.css": {
          "exists": "‚ùå"
        },
        "dashboard.css": {
          "exists": "‚ùå"
        },
        "shop.css": {
          "exists": "‚ùå"
        }
      },
      "missing_files": [
        "styles.css",
        "dashboard.css",
        "shop.css"
      ],
      "status": "‚ö†Ô∏è Warning",
      "warning": "–ù–µ–∫–æ—Ç–æ—Ä—ã–µ CSS —Ñ–∞–π–ª—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç"
    }
  },
  "recommendations": [
    {
      "priority": "critical",
      "message": "–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ —É—Å—Ç—Ä–∞–Ω–∏—Ç–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏: –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç PHP —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞"
    },
    {
      "priority": "high",
      "message": "–û—Å–≤–æ–±–æ–¥–∏—Ç–µ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ –∏–ª–∏ —É–≤–µ–ª–∏—á—å—Ç–µ —Ä–∞–∑–º–µ—Ä –¥–∏—Å–∫–∞"
    },
    {
      "priority": "medium",
      "message": "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏ –∏—Å–ø—Ä–∞–≤—å—Ç–µ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î"
    },
    {
      "priority": "low",
      "message": "–û—á–∏—Å—Ç–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –∫–µ—à–∞"
    }
  ],
  "system_info": {
    "hostname": "7375893.ru",
    "ip": "79.133.183.86",
    "php_version": "8.1.2-1ubuntu2.21",
    "server_software": "nginx/1.18.0"
  }
}